<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>paperview-js</title>
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico" />

    <script src="./paperview.min.js"></script>
    <script src="./assets/lightrange.min.js"></script>
    <style type="text/css">
        body { margin: 0; padding: 0 }
        #viewer { width:100%; height:100% }
    </style>

    <script type="text/javascript" src="http://canvg.github.io/canvg/rgbcolor.js"></script>
    <script type="text/javascript" src="http://canvg.github.io/canvg/StackBlur.js"></script>
    <script type="text/javascript" src="http://canvg.github.io/canvg/canvg.js"></script>
</head>
<body>
    <!-- <canvas id="canvas" width="1875px" height="1875px" style="position:fixed;width:1325px;height:1875px;z-index:999; background: #fff"></canvas> -->
    <div id="viewer"></div>

    <script type="text/javascript">
        var options = {
            url: './assets/example3/assets',
            comments: false,
            mode: 'canvas', // 'svg'|'canvas'
            // comments: { view: true, edit: true } // this also works
        }

        // create and display a document
        var viewer = new PaperView()
        viewer.createViewer('#viewer', options)
        viewer.on('ready', (e) => {

            // viewer.scrollTo('1808px')
            // viewer.scrollTo(1800)
            // viewer.scrollToPage(2)
            // let svgs = document.querySelectorAll('tspan')
            // canvg('canvas', './assets/example3/assets/page-1.svg', {
            //     // scaleWidth: 1.3,
            //     // scaleHeight: 1.3,
            // })

            // //load a svg snippet in the canvas with id = 'drawingArea'
            // canvg(document.getElementById('drawingArea'), '<svg>...</svg>')
            //
            // //ignore mouse events and animation
            // canvg('canvas', 'file.svg', { ignoreMouse: true, ignoreAnimation: true })

            // for (var i=0; i < svgs.length; i++) {
            //     let svgElement = svgs[i]
            //     let attrs = svgElement.getAttribute('x')
            //     console.log(svgElement, attrs)
            // }

        }).on('scroll', (e) => {

            // console.log(e.scrollTop)
            // console.log(viewer.getCurrentPageNum())
        })

        viewer.load()
    </script>
</body>
</html>
